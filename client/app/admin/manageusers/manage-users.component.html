<div class="card min-height" *ngIf="!viewProfile">
  <h1 class="etched-text">Manage Users</h1>
  
  <rar-search-box 
  [placeholder]="placeholder"
  [search-attributes]="searchAttributes"
  (searchEvent)='updateSearchTextFilter($event)'
  (searchAttribute)="updateSearchAttribute($event)"
  ></rar-search-box>

  <div class="card-block horizontal-and-vertical-centering " *ngIf="(!users || users.length === 0)">
    <div class="form-size">
      <p>There are no registered users.</p>
    </div>
  </div>

  <div class="card-block" *ngIf="users && users.length > 0">
<!--
    <ngx-datatable class="bootstrap"
      [rows]="users"
      [columns]="columns"
      [columnMode]="'force'"
      [headerHeight]="50"
      [footerHeight]="50"
      [rowHeight]="'auto'"
      [externalSorting]="true"
      [loadingIndicator]="isLoading"
      (sort)="onSortTableColumn($event)"
      [externalPaging]="true"
      [count]="page.total_elements"
      [offset]="page.offset"
      [limit]="page.limit"
      (page)='setPage($event)'
      [selected]="selected"
      [selectionType]="'single'"
      (activate)="onActivate($event)"
      (select)='onSelectTableRow($event)'
      >
      <ngx-datatable-column name="" prop="id" editable="false">
        <ng-template let-value="value" ngx-datatable-cell-template>
          <rar-image [errorImage]="defaultImage" [image]="getImageAddress(value)" [width]="50"></rar-image>
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column name="Email" prop="email" editable="false">
        <ng-template let-value="value" ngx-datatable-cell-template>
          <div class="cell-item">
            {{value}}
          </div>
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="Firstname" prop="firstname" editable="false">
        <ng-template let-value="value" ngx-datatable-cell-template>
          <div class="cell-item">
            {{value}}
          </div>
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="Lastname" prop="lastname" editable="false">
        <ng-template let-value="value" ngx-datatable-cell-template>
          <div class="cell-item">
            {{value}}{{viewIsWide}}
          </div>
        </ng-template>
      </ngx-datatable-column>


      <ngx-datatable-column name="Gender" prop="gender" editable="false">
        <ng-template let-value="value" ngx-datatable-cell-template>
          <div class="cell-item">
            {{value}}
          </div>
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="Organizer" prop="can_organize" editable="false">
        <ng-template let-value="value" ngx-datatable-cell-template>
          <div class="cell-item">
            {{value}}
          </div>
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column name="Referee" prop="can_referee" editable="false">
        <ng-template let-value="value" ngx-datatable-cell-template>
          <div class="cell-item">
            {{value}}
          </div>
        </ng-template>
      </ngx-datatable-column>        

      <ngx-datatable-column name="Status" prop="status" editable="false">
        <ng-template let-value="value" ngx-datatable-cell-template>
          <div class="cell-item">
            {{value}}
          </div>
        </ng-template>
      </ngx-datatable-column>
    </ngx-datatable>
 -->
 <table mat-table [dataSource]="users" class="mat-elevation-z8">

  <!--- Note that these columns can be defined in any order.
        The actual rendered columns are set as a property on the row definition" -->

  <!-- Position Column -->
  <ng-container matColumnDef="id">
    <th mat-header-cell *matHeaderCellDef> Id </th>
    <td mat-cell *matCellDef="let element"> {{element.id}} </td>
  </ng-container>

  <!-- Name Column -->
  <ng-container matColumnDef="Email">
    <th mat-header-cell *matHeaderCellDef> Email </th>
    <td mat-cell *matCellDef="let element"> {{element.email}} </td>
  </ng-container>

  <!-- Weight Column -->
  <ng-container matColumnDef="Firstname">
    <th mat-header-cell *matHeaderCellDef> Firstname </th>
    <td mat-cell *matCellDef="let element"> {{element.firstname}} </td>
  </ng-container>

  <!-- Symbol Column -->
  <ng-container matColumnDef="Lastname">
    <th mat-header-cell *matHeaderCellDef> Lastname </th>
    <td mat-cell *matCellDef="let element"> {{element.lastname}} </td>
  </ng-container>

  <ng-container matColumnDef="Gender">
    <th mat-header-cell *matHeaderCellDef> Gender </th>
    <td mat-cell *matCellDef="let element"> {{element.gender}} </td>
  </ng-container>

  <ng-container matColumnDef="Organizer">
    <th mat-header-cell *matHeaderCellDef> Organizer </th>
    <td mat-cell *matCellDef="let element"> {{element.can_organize}} </td>
  </ng-container>

  <ng-container matColumnDef="Referee">
    <th mat-header-cell *matHeaderCellDef> Referee </th>
    <td mat-cell *matCellDef="let element"> {{element.can_referee}} </td>
  </ng-container>

  <ng-container matColumnDef="Status">
    <th mat-header-cell *matHeaderCellDef> Status </th>
    <td mat-cell *matCellDef="let element"> {{element.status}} </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>  
<mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>

  </div>
</div>

<div class="card min-height" *ngIf="viewProfile">
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a (click)="backToList($event)">Users</a></li>
      <li class="breadcrumb-item active" aria-current="page">Profile</li>
    </ol>
  </nav>
  <rar-admin-profile [user]="selectedUser" (userUpdated)="userUpdated()"></rar-admin-profile>
</div>