<div class="card">

  <h1 class="etched-text" *ngIf="!isEditing"> Event Assignment</h1>

  <div class="card-block horizontal-and-vertical-centering " *ngIf="!isEditing && (!games || games.length === 0)">
    <div class="form-size">
      <p>There is no events data.</p>
    </div>
  </div>

  <div class="card-block" *ngIf="!isEditing && (games && games.length > 0)">
    <ngx-datatable class="bootstrap"
      [rows]="games"
      [columnMode]="'force'"
      [headerHeight]="50"
      [footerHeight]="50"
      [rowHeight]="'auto'"
      [externalSorting]="true"
      [loadingIndicator]="isLoading"
      (sort)="onSort($event)"
      [externalPaging]="true"
      [count]="page.total_elements"
      [offset]="page.offset"
      [limit]="page.limit"
      (page)='setPage($event)'
      [selected]="selected"
      [selectionType]="'single'"
      (activate)="onActivate($event)"
      (select)='onSelect($event)'
      >
      <ngx-datatable-column name="Event Name" prop="event_name" editable="false"></ngx-datatable-column>
      <ngx-datatable-column name="Event Date" prop="id" editable="false">
        <ng-template let-value="value" ngx-datatable-cell-template>
              {{ formatDate(value) }}
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column name="Venue" prop="venue_name" editable="false"></ngx-datatable-column>
      <ngx-datatable-column name="Status" prop="status" editable="false"></ngx-datatable-column>
    </ngx-datatable>
  </div>


  <div class="card-block" *ngIf="isEditing">
    <!--
    <ul class="nav nav-pills">
      <li class="nav-item"><a class="nav-link" href="#" [class.active]="isTabEditEvent()"
        (click)="switchToEditEvent($event);">Event</a>
      </li>
      <li class="nav-item"><a class="nav-link" href="#" [class.active]="isTabAddMatch()"
        (click)="switchToAddMatch($event);">Games</a>
      </li>
    </ul> -->
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="#" (click)="switchToEditEvent($event)">Event</a></li>
        <li class="breadcrumb-item active" aria-current="page"><a href="#" (click)="switchToAddMatch($event)">Games</a></li>
      </ol>
    </nav>
    <br />

    <div *ngIf="isTabEditEvent()">
      <div class="card form-size">
        <events-form (ngSubmit)="submitEvent($event)" (ngCancel)="setEventsMode($event)"
         [model]="model"
         [states]="states"
         [sports]="sports"></events-form>
      </div>
    </div>

    <div *ngIf="isTabAddMatch()">
      <rar-matches [model]="model" [states]="states"></rar-matches>
    </div>
  </div>
</div>