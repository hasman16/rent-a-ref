<div class="card col-sm-12">
  <div class="card">
    <h4 class="elegantshd bigFont">Organize or Request Referee(s)</h4>
    <app-loading [condition]="isLoading"></app-loading>
    <div class="card-block">
      <ng-container *ngIf="Org_number === 0">
      <blockquote>
       <label><p>In order to request some referee(s) for your game(s), you need to create an Organization.</p>
      <p>Click below to create an Organization.</p></label>        
      </blockquote>
</ng-container>
<ng-container>
  <blockquote>
    <button type="button" class="btn btn-primary btn-lg btn-block">
      <li data-toggle="modal" data-target="#orgline" (click)="organizeFlag = create">
        <!--<a routerLink="/privacy-policy" class="nav-item nav-link" aria-hidden="true" routerLinkActive="active">-->
        <i class="fa fa-institution"></i>
        <span class="general-links"> Click to Create an Organization</span>
      </li>
    </button>
  </blockquote>
</ng-container>
<ng-container *ngIf="Org_number !== 0">
<ol class="breadcrumb">
  <li class="breadcrumb-item active">Organization: <b>{{org_name}}   </b>
  <button type="button" class="btn btn-success btn-sm"><li data-toggle="modal" data-target="#orgline" (click)="organizeFlag = update; fillForm(org_id)">
          <!--<a routerLink="/privacy-policy" class="nav-item nav-link" aria-hidden="true" routerLinkActive="active">-->
          <i class="fa fa-institution"></i><span class="general-links"> update </span>
        </li></button>  

        <button type="button" class="btn btn-success btn-sm"><li data-toggle="modal" data-target="#orgline" (click)="organizeFlag = view">
          <!--<a routerLink="/privacy-policy" class="nav-item nav-link" aria-hidden="true" routerLinkActive="active">-->
          <i class="fa fa-eye"></i><span class="general-links"> View</span>
        </li></button>

        <div class="btn-group" *ngIf="Org_number > 1">
          <!--<button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Switch Organization
          </button>
          <div class="dropdown-menu dropdown-menu-right">
            <button class="dropdown-item" type="button">-->
            <select class="form-control" (change)="onChange($event.target.value)">
              <option value="">--Switch Organization--</option>
              <option *ngFor="let organisation of org_data" value="{{organisation.id}}" >{{organisation.name}}</option>
            </select>
            <!--</button>
          </div>-->
          </div>
  </li>
</ol>


  <div style="margin: auto; max-width: 1000px; margin-top:50px">
    <!--<div style="margin-top: 10px">
      <b>Selected:</b>
      <span *ngIf="filmsTable.selectedRow == null"><i>No item selected</i></span>
      <span [textContent]="filmsTable.selectedRow && filmsTable.selectedRow.item.title"></span>
    </div>-->
  </div>
</ng-container>


      <!-- Modal start - Create Organization-->
      <div id="orgline" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="ordineLabel" aria-hidden="true">
        <div class="modal-dialog">

          <!-- Modal content Create Orgaization-->
          <div class="modal-content">
            <div class="modal-header" *ngIf="organizeFlag === create">
              <button type="button" class="close" data-dismiss="modal">×</button>
              
              <!--<h4 class="modal-title">What is your Organization name?</h4>-->
            </div>
            <div class="modal-body" *ngIf="organizeFlag === create">
              <!--<div class="embed-responsive embed-responsive-16by9">
                
                <div class="col-xs-12 col-sm-12">
                  
                  <div class="card" >-->

                    <h4 class="card-header elegantshd bigFont">New Organization</h4>
                    <app-toast [message]="toast.message"></app-toast>

                    <!--<div class="card-block">
                      <div class="card-block">
                        <div class="card card-outline-success">
                          <div class="card-block numberbg">-->

                            <form [formGroup]="organizationForm" (ngSubmit)="createOrganization()" *ngIf="showDivOrg_name else showDivresetmsg">
                              <p>Please fill in the field below.</p>
                              <div class="input-group" [ngClass]="setClassName()">
                                <span class="input-group-addon"><i class="fa  fa-universal-access"></i></span>
                                <input class="form-control" name="org_name" formControlName="org_name" placeholder="Organization Name" 
                                  required>
                              </div>
                              <div class="input-group d-flex flex-row" [ngClass]="{ 'has-danger': descriptionInvalid || numberInvalid }">
                              
                                <label class="center-block p-2">Phone:
                                  <select class="form-control" formControlName="description">
                                    <option value="" selected disabled>Type</option>
                                    <option value="mobile">Mobile</option>
                                    <option value="home">Home</option>
                                    <option value="work">Work</option>
                                    <option value="other">Other</option>
                                  </select>
                              <div class="input-group required-field-block">
                                <span class="input-group-addon">
                                  <i class="fa fa-phone"></i>
                                </span>
                                <input class="form-control" type="text" name="number" formControlName="number" placeholder="Phone Number" autofocus aria-describedby="basic-addon-phone">
                              </div>
                                  <!--<span class="input-group-addon p-2">
                                    <i class="fa fa-phone"></i>
                                  </span>
                                  <input class="form-control" formControlName="number" placeholder="Phone Number">-->
                                </label>                              
                              </div>

                              

                              <!--Address-->
                              <div class="profile-div">
                                <div class="form-group" [ngClass]="{ 'has-danger': line1Invalid }">
                                  <label>Address Line 1</label>
                                  <input class="form-control" formControlName="line1">
                                </div>
                                <div class="form-group">
                                  <label>Address Line 2</label>
                                  <input class="form-control" formControlName="line2">
                                </div>
                                <div class="form-group" [ngClass]="{ 'has-danger': cityInvalid }">
                                  <label>City
                                    <input class="form-control" formControlName="city">
                                  </label>
                                </div>
                                <div class="form-group">
                                  <label class="center-block">State
                                    <select class="form-control" formControlName="state">
                                      <option *ngFor="let state of states" value="{{state.abbreviation}}">{{state.name}}</option>
                                    </select>
                                  </label>
                                </div>
                                <div class="form-group" [ngClass]="{ 'has-danger': zipInvalid }">
                                  <label class="center-block">Zip Code
                                    <input class="form-control" formControlName="zip">
                                  </label>
                                </div>
                                <div>
                                  <label class="center-block">Logo Upload</label>
                                  <input type="file" class="form-control-file" id="logo" name="logo">
                                </div>
                              </div>
                              <br>
                              <div>
                                <button type="submit" class="btn btn-primary btn-sm" [disabled]="organizationForm.invalid"><i class="fa fa-save"></i>Create</button>
                                <!--<button class="btn btn-outline-secondary btn-sm" type="button" (click)="onCancel()"><i class="fa fa-ban"></i>Cancel</button>-->
                              </div>                              

                            </form>

                            <ng-template #showDivresetmsg>
                              <blockquote>
                                <p>Your Organization was successfully created.</p>
                              </blockquote>
                            </ng-template>

                          <!--</div>
                        </div>
                      </div>
                    </div>

</div>
</div>
              </div>  -->
              <!--<p><span class="blue-footer">Thank you</span></p>-->
              <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
              </div>
            </div>
            
          </div>
          <!--End Create Organization-->
<!-- Modal content Update Orgaization-->
<div class="modal-content">
  <div class="modal-header" *ngIf="organizeFlag === update">
    <button type="button" class="close" data-dismiss="modal">×</button>

    <!--<h4 class="modal-title">What is your Organization name?</h4>-->
  </div>
  <div class="modal-body" *ngIf="organizeFlag === update">
    <!--<div class="embed-responsive embed-responsive-16by9">
      
      <div class="col-xs-12 col-sm-12">        
        <div class="card">-->
    <h4 class="card-header elegantshd bigFont">Update Organization</h4>
    <app-toast [message]="toast.message"></app-toast>

    <!--<div class="card-block">
            <div class="card-block">
              <div class="card card-outline-success">
                <div class="card-block numberbg">-->

    <form [formGroup]="organizationUpdateForm" (ngSubmit)="updateOrganization()" *ngIf="showUpdateDivOrg_name else showUpdateDivresetmsg">
      <p>Please fill in the field below.</p>
      <div class="input-group" [ngClass]="setClassName()">
        <span class="input-group-addon">
          <i class="fa  fa-universal-access"></i>
        </span>
        <input class="form-control" name="org_name" formControlName="org_name" placeholder="Organization Name" [(ngModel)]="org_name" required>
      </div>
      <div class="input-group" [ngClass]="{ 'has-danger': descriptionInvalid || numberInvalid }">

        <label class="center-block">Phone:
          <select class="form-control" formControlName="description" [(ngModel)]="description" name="description">
            <option value="" selected disabled>Type</option>
            <option value="mobile">Mobile</option>
            <option value="home">Home</option>
            <option value="work">Work</option>
            <option value="other">Other</option>
          </select>
<div class="input-group required-field-block">
  <span class="input-group-addon">
    <i class="fa fa-phone"></i>
  </span>
  <input class="form-control" type="text" name="number" formControlName="number" placeholder="Phone Number" autofocus aria-describedby="basic-addon-phone" value="{{number}}">
</div>
          <!--<span class="input-group-addon">
            <i class="fa fa-phone"></i>
          </span>
          <input class="form-control" formControlName="number" [(ngModel)]="number" name="number" placeholder="Phone Number">-->
        </label>

      </div>
      <!--Address-->
      <div class="profile-div">
        <div class="form-group" [ngClass]="{ 'has-danger': line1Invalid }">
          <label>Address Line 1</label>
          <input class="form-control" formControlName="line1" [(ngModel)]="line1" name="line1" placeholder="Address 1">
        </div>
        <div class="form-group">
          <label>Address Line 2</label>
          <input class="form-control" formControlName="line2">
        </div>
        <div class="form-group" [ngClass]="{ 'has-danger': cityInvalid }">
          <label>City
            <input class="form-control" formControlName="city">
          </label>
        </div>
        <div class="form-group">
          <label class="center-block">State
            <select class="form-control" formControlName="state">
              <option *ngFor="let state of states" value="{{state.abbreviation}}">{{state.name}}</option>
            </select>
          </label>
        </div>
        <div class="form-group" [ngClass]="{ 'has-danger': zipInvalid }">
          <label class="center-block">Zip Code
            <input class="form-control" formControlName="zip">
          </label>
        </div>
      </div>
      <br>
      <div>
        <button type="submit" class="btn btn-primary btn-sm" [disabled]="organizationUpdateForm.invalid">
          <i class="fa fa-save"></i>Update</button>
        <!--<button class="btn btn-outline-secondary btn-sm" type="button" (click)="onCancel()"><i class="fa fa-ban"></i>Cancel</button>-->
      </div>

    </form>

    <ng-template #showUpdateDivresetmsg>
      <blockquote>
        <p>Your Organization was successfully Updated.</p>
      </blockquote>
    </ng-template>

    <!--</div>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>-->
    <div class="modal-footer">
      <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
    </div>
  </div>
  <!---->
</div>
<!--End Update Organization-->
          <!-- Modal content View Orgaization-->
          <div class="modal-content">
            <div class="modal-header" *ngIf="organizeFlag === view">
              <button type="button" class="close" data-dismiss="modal">×</button>

              <!--<h4 class="modal-title">What is your Organization name?</h4>-->
            </div>
            <div class="modal-body" *ngIf="organizeFlag === view">
              <div class="embed-responsive embed-responsive-16by9">

                <div class="col-xs-12 col-sm-12">
                  <div class="card">
                    <h4 class="card-header elegantshd bigFont">Organization Information</h4>
                    <app-toast [message]="toast.message"></app-toast>

                    <div class="card-block">
                      <div class="card-block">
                        <div class="card card-outline-success">
                          <div class="card-block numberbg">

                            <form [formGroup]="organizationViewForm" (ngSubmit)="updateOrganization()" *ngIf="showDivOrg_name else showDivresetmsg">
                              
                              <div class="input-group" [ngClass]="setClassName()">
                                <span class="input-group-addon"><i class="fa  fa-universal-access"></i></span>
                                <input class="form-control" name="org_name" formControlName="org_name" placeholder="Organization Name" [(ngModel)]="userData.org_name"
                                  required>
                              </div>

                              <br>
                              <div>
                                <button type="submit" class="btn btn-primary btn-sm" [disabled]="organizationViewForm.invalid"><i class="fa fa-save"></i>Update</button>
                                <!--<button class="btn btn-outline-secondary btn-sm" type="button" (click)="onCancel()"><i class="fa fa-ban"></i>Cancel</button>-->
                              </div>

                            </form>

                            <ng-template #showDivresetmsg>
                              <blockquote>
                                <p>Your Organization was successfully Updated.</p>
                              </blockquote>
                            </ng-template>

                          </div>
                        </div>
                      </div>
                    </div>

                  </div>
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
              </div>
            </div>
            <!---->
          </div>
          <!--End View Organization-->
        </div>
        </div>
        <!--Modal end-->
    </div>
  </div>
</div>